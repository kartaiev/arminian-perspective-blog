{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Volodymyr_Kartaiev\\\\WebstormProjects\\\\arminian-perspective-blog\\\\client\\\\components\\\\posts-preview\\\\previews.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport { useSWRInfinite } from \"swr\";\nimport { fetcher, getKey } from \"../../actions\";\nimport PostCard from \"./PostCard\";\n\nconst previews = () => {\n  const fetcher = url => fetch(url).then(res => res.json());\n\n  const getKey = (index, previousPageData) => {\n    if (previousPageData && !previousPageData.length) return null;\n    return `/api/posts?offset=${index}`;\n  };\n\n  const {\n    data: paginatedPosts,\n    size,\n    setSize\n  } = useSWRInfinite(getKey, fetcher);\n  if (!paginatedPosts) return \"loading\";\n  console.log(paginatedPosts);\n  return paginatedPosts && paginatedPosts.map(({\n    _id,\n    title,\n    subtitle,\n    slug,\n    mainImage,\n    publishedAt,\n    body\n  }) => __jsx(PostCard, {\n    key: _id,\n    title: title,\n    subtitle: subtitle,\n    slug: slug,\n    mainImage: mainImage,\n    publishedAt: publishedAt,\n    body: body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default previews;","map":{"version":3,"sources":["C:/Users/Volodymyr_Kartaiev/WebstormProjects/arminian-perspective-blog/client/components/posts-preview/previews.js"],"names":["React","useSWRInfinite","fetcher","getKey","PostCard","previews","url","fetch","then","res","json","index","previousPageData","length","data","paginatedPosts","size","setSize","console","log","map","_id","title","subtitle","slug","mainImage","publishedAt","body"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,KAA/B;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,eAAhC;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACrB,QAAMH,OAAO,GAAII,GAAD,IAASC,KAAK,CAACD,GAAD,CAAL,CAAWE,IAAX,CAAiBC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAAzB,CAAzB;;AAEA,QAAMP,MAAM,GAAG,CAACQ,KAAD,EAAQC,gBAAR,KAA6B;AAC1C,QAAIA,gBAAgB,IAAI,CAACA,gBAAgB,CAACC,MAA1C,EAAkD,OAAO,IAAP;AAClD,WAAQ,qBAAoBF,KAAM,EAAlC;AACD,GAHD;;AAKA,QAAM;AAAEG,IAAAA,IAAI,EAAEC,cAAR;AAAwBC,IAAAA,IAAxB;AAA8BC,IAAAA;AAA9B,MAA0ChB,cAAc,CAC5DE,MAD4D,EAE5DD,OAF4D,CAA9D;AAKA,MAAI,CAACa,cAAL,EAAqB,OAAO,SAAP;AAErBG,EAAAA,OAAO,CAACC,GAAR,CAAYJ,cAAZ;AAEA,SACEA,cAAc,IACdA,cAAc,CAACK,GAAf,CACE,CAAC;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,KAAP;AAAcC,IAAAA,QAAd;AAAwBC,IAAAA,IAAxB;AAA8BC,IAAAA,SAA9B;AAAyCC,IAAAA,WAAzC;AAAsDC,IAAAA;AAAtD,GAAD,KACE,MAAC,QAAD;AACE,IAAA,GAAG,EAAEN,GADP;AAEE,IAAA,KAAK,EAAEC,KAFT;AAGE,IAAA,QAAQ,EAAEC,QAHZ;AAIE,IAAA,IAAI,EAAEC,IAJR;AAKE,IAAA,SAAS,EAAEC,SALb;AAME,IAAA,WAAW,EAAEC,WANf;AAOE,IAAA,IAAI,EAAEC,IAPR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAFF;AAgBD,CAjCD;;AAmCA,eAAetB,QAAf","sourcesContent":["import React from \"react\";\nimport { useSWRInfinite } from \"swr\";\nimport { fetcher, getKey } from \"../../actions\";\nimport PostCard from \"./PostCard\";\n\nconst previews = () => {\n  const fetcher = (url) => fetch(url).then((res) => res.json());\n\n  const getKey = (index, previousPageData) => {\n    if (previousPageData && !previousPageData.length) return null;\n    return `/api/posts?offset=${index}`;\n  };\n\n  const { data: paginatedPosts, size, setSize } = useSWRInfinite(\n    getKey,\n    fetcher\n  );\n\n  if (!paginatedPosts) return \"loading\";\n\n  console.log(paginatedPosts);\n\n  return (\n    paginatedPosts &&\n    paginatedPosts.map(\n      ({ _id, title, subtitle, slug, mainImage, publishedAt, body }) => (\n        <PostCard\n          key={_id}\n          title={title}\n          subtitle={subtitle}\n          slug={slug}\n          mainImage={mainImage}\n          publishedAt={publishedAt}\n          body={body}\n        />\n      )\n    )\n  );\n};\n\nexport default previews;\n"]},"metadata":{},"sourceType":"module"}
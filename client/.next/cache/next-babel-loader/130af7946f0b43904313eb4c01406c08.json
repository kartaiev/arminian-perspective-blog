{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Volodymyr_Kartaiev\\\\WebstormProjects\\\\blog\\\\arminian-perspective-blog\\\\client\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useContext, useEffect } from \"react\";\nimport Layout from \"../components/layout/Layout\";\nimport { getAllPosts } from \"../lib/api\";\nimport IconsBtn from \"../components/shared/IconsBtn\";\nimport { downChevron } from \"../lib/icons\";\nimport PostCard from \"../components/posts-preview/PostCard\";\nimport { useWindowWidth } from \"../hooks/useWindowWidth\";\nimport { GlobalContext } from \"../context/global.context\";\nimport { FiList } from \"react-icons/fi\";\nimport { useGetPosts } from \"../actions\";\nimport Button from \"@chakra-ui/core/dist/Button\";\nimport { Skeleton, useColorMode } from \"@chakra-ui/core\";\nimport { PAGE_SIZE } from \"../lib/vars\";\nimport { BsGrid } from \"react-icons/bs\";\nimport Box from \"@chakra-ui/core/dist/Box\";\nimport { borderColor, color } from \"../customTheme\";\nimport Grid from \"@chakra-ui/core/dist/Grid\";\nimport Divider from \"@chakra-ui/core/dist/Divider\";\nimport Aside from \"../components/aside/Aside\";\n\nconst App = ({\n  posts\n}) => {\n  var _paginatedPosts$, _paginatedPosts;\n\n  const {\n    setListView,\n    isListView,\n    switchView\n  } = useContext(GlobalContext);\n  const {\n    colorMode\n  } = useColorMode();\n  const width = useWindowWidth();\n  useEffect(() => {\n    width <= 768 && setListView(false);\n  }, [width]);\n  const initialData = posts && [posts];\n  const {\n    data: paginatedPosts,\n    size,\n    setSize\n  } = useGetPosts(initialData);\n  const isEmpty = (paginatedPosts === null || paginatedPosts === void 0 ? void 0 : (_paginatedPosts$ = paginatedPosts[0]) === null || _paginatedPosts$ === void 0 ? void 0 : _paginatedPosts$.length) === 0;\n  const isReachingEnd = isEmpty || paginatedPosts && ((_paginatedPosts = paginatedPosts[paginatedPosts.length - 1]) === null || _paginatedPosts === void 0 ? void 0 : _paginatedPosts.length) < PAGE_SIZE; // const increaseSize = () => !isReachingEnd && setSize((prev) => prev + 1);\n  //\n  // useEffect(() => {\n  //   window.addEventListener(\"scroll\", () => handleScroll(increaseSize));\n  //   return () =>\n  //     window.removeEventListener(\"scroll\", () => handleScroll(increaseSize));\n  // }, []);\n\n  if (!paginatedPosts) return \"loading\";\n  const previews = paginatedPosts && paginatedPosts.map(el => el.map(({\n    _id,\n    title,\n    subtitle,\n    slug,\n    mainImage,\n    publishedAt,\n    body\n  }) => __jsx(PostCard, {\n    key: _id,\n    title: title,\n    subtitle: subtitle,\n    slug: slug,\n    mainImage: mainImage,\n    publishedAt: publishedAt,\n    body: body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  })));\n  const previewClass = isListView ? \"md:mx-16 ip:ml-48\" : \"lg:grid-cols-2 lg:mt-2 ip:grid-cols-3 xl:gap-12\";\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 5\n    }\n  }, __jsx(Grid, {\n    templateColumns: \"5fr auto 1fr\",\n    gap: 6,\n    color: color[colorMode],\n    className: \"article-body-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, __jsx(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"view-button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }, __jsx(IconsBtn, {\n    whileHover: {\n      scale: 1.2\n    },\n    firstIcon: BsGrid,\n    secondIcon: FiList,\n    toggle: switchView,\n    isToggled: isListView,\n    className: \"ease\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  })), __jsx(Skeleton, {\n    isLoaded: paginatedPosts,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, __jsx(Box, {\n    color: color[colorMode],\n    className: `preview-container ${previewClass}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, previews)), __jsx(\"div\", {\n    className: \"preview-button-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, __jsx(Button, {\n    disabled: isReachingEnd,\n    size: \"lg\",\n    rounded: \"full\",\n    onClick: () => !isReachingEnd && setSize(size + 1),\n    variant: \"outline\",\n    borderColor: borderColor[colorMode],\n    _focus: {\n      outline: \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, downChevron(isReachingEnd)))), __jsx(Divider, {\n    borderColor: borderColor[colorMode],\n    orientation: \"vertical\",\n    my: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }), __jsx(Aside, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Volodymyr_Kartaiev/WebstormProjects/blog/arminian-perspective-blog/client/pages/index.js"],"names":["React","useContext","useEffect","Layout","getAllPosts","IconsBtn","downChevron","PostCard","useWindowWidth","GlobalContext","FiList","useGetPosts","Button","Skeleton","useColorMode","PAGE_SIZE","BsGrid","Box","borderColor","color","Grid","Divider","Aside","App","posts","setListView","isListView","switchView","colorMode","width","initialData","data","paginatedPosts","size","setSize","isEmpty","length","isReachingEnd","previews","map","el","_id","title","subtitle","slug","mainImage","publishedAt","body","previewClass","scale","outline"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport Layout from \"../components/layout/Layout\";\nimport { getAllPosts } from \"../lib/api\";\nimport IconsBtn from \"../components/shared/IconsBtn\";\nimport { downChevron } from \"../lib/icons\";\nimport PostCard from \"../components/posts-preview/PostCard\";\nimport { useWindowWidth } from \"../hooks/useWindowWidth\";\nimport { GlobalContext } from \"../context/global.context\";\nimport { FiList } from \"react-icons/fi\";\nimport { useGetPosts } from \"../actions\";\nimport Button from \"@chakra-ui/core/dist/Button\";\nimport { Skeleton, useColorMode } from \"@chakra-ui/core\";\nimport { PAGE_SIZE } from \"../lib/vars\";\nimport { BsGrid } from \"react-icons/bs\";\nimport Box from \"@chakra-ui/core/dist/Box\";\nimport { borderColor, color } from \"../customTheme\";\nimport Grid from \"@chakra-ui/core/dist/Grid\";\nimport Divider from \"@chakra-ui/core/dist/Divider\";\nimport Aside from \"../components/aside/Aside\";\n\nconst App = ({ posts }) => {\n  const { setListView, isListView, switchView } = useContext(GlobalContext);\n\n  const { colorMode } = useColorMode();\n\n  const width = useWindowWidth();\n\n  useEffect(() => {\n    width <= 768 && setListView(false);\n  }, [width]);\n\n  const initialData = posts && [posts];\n\n  const { data: paginatedPosts, size, setSize } = useGetPosts(initialData);\n\n  const isEmpty = paginatedPosts?.[0]?.length === 0;\n  const isReachingEnd =\n    isEmpty ||\n    (paginatedPosts &&\n      paginatedPosts[paginatedPosts.length - 1]?.length < PAGE_SIZE);\n\n  // const increaseSize = () => !isReachingEnd && setSize((prev) => prev + 1);\n  //\n  // useEffect(() => {\n  //   window.addEventListener(\"scroll\", () => handleScroll(increaseSize));\n  //   return () =>\n  //     window.removeEventListener(\"scroll\", () => handleScroll(increaseSize));\n  // }, []);\n\n  if (!paginatedPosts) return \"loading\";\n\n  const previews =\n    paginatedPosts &&\n    paginatedPosts.map((el) =>\n      el.map(({ _id, title, subtitle, slug, mainImage, publishedAt, body }) => (\n        <PostCard\n          key={_id}\n          title={title}\n          subtitle={subtitle}\n          slug={slug}\n          mainImage={mainImage}\n          publishedAt={publishedAt}\n          body={body}\n        />\n      ))\n    );\n\n  const previewClass = isListView\n    ? \"md:mx-16 ip:ml-48\"\n    : \"lg:grid-cols-2 lg:mt-2 ip:grid-cols-3 xl:gap-12\";\n\n  return (\n    <Layout>\n      <Grid\n        templateColumns=\"5fr auto 1fr\"\n        gap={6}\n        color={color[colorMode]}\n        className=\"article-body-container\"\n      >\n        <Box>\n          <div className=\"view-button-container\">\n            <IconsBtn\n              whileHover={{ scale: 1.2 }}\n              firstIcon={BsGrid}\n              secondIcon={FiList}\n              toggle={switchView}\n              isToggled={isListView}\n              className=\"ease\"\n            />\n          </div>\n          <Skeleton isLoaded={paginatedPosts}>\n            <Box\n              color={color[colorMode]}\n              className={`preview-container ${previewClass}`}\n            >\n              {previews}\n            </Box>\n          </Skeleton>\n          <div className=\"preview-button-container\">\n            <Button\n              disabled={isReachingEnd}\n              size=\"lg\"\n              rounded=\"full\"\n              onClick={() => !isReachingEnd && setSize(size + 1)}\n              variant=\"outline\"\n              borderColor={borderColor[colorMode]}\n              _focus={{ outline: \"none\" }}\n            >\n              {downChevron(isReachingEnd)}\n            </Button>\n          </div>\n        </Box>\n        <Divider\n          borderColor={borderColor[colorMode]}\n          orientation=\"vertical\"\n          my=\"6\"\n        />\n        <Aside />\n      </Grid>\n    </Layout>\n  );\n};\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import client from \"./client\";\nimport groq from \"groq\";\nimport { PAGE_SIZE } from \"./vars\";\n\nconst queryAll = offset => groq`*[_type == \"post\"][${offset}...${offset + PAGE_SIZE}]  | order(publishedAt desc) {\n  _id,\n  title,\n  subtitle,\n  publishedAt,\n  _updatedAt,\n  slug,\n  'mainImage': mainImage.asset->url,\n  \"categories\": categories[]->title,\n}`;\n\nexport const getAllPosts = async offset => {\n  return await client.fetch(queryAll(offset));\n};\n\nconst queryByCategory = (offset, category) => groq`*[_type == \"post\" && ${category} in categories][${offset}...${offset + PAGE_SIZE}]  | order(publishedAt desc) {\n  _id,\n  title,\n  subtitle,\n  publishedAt,\n  _updatedAt,\n  slug,\n  mainImage,\n}`;\n\nexport const getPostsByCategory = async (offset, category) => {\n  return await client.fetch(queryByCategory(offset, category));\n};\nconst queryBySlug = groq`*[_type == \"post\" && slug.current == $slug][0]{\n  title,\n  subtitle,\n  publishedAt,\n  _updatedAt,\n  \"name\": author->name,\n  mainImage,\n  \"categories\": categories[]->title,\n  body\n}`;\nexport const getSinglePost = async slug => {\n  return await client.fetch(queryBySlug, {\n    slug\n  });\n};\nconst queryAllSLugs = groq`*[_type == \"post\"] {slug}`;\nexport const getAllSlugs = async () => {\n  return await client.fetch(queryAllSLugs);\n};","map":{"version":3,"sources":["/Users/earth/WebstormProjects/arminian-perspective-blog/client/lib/api.ts"],"names":["client","groq","PAGE_SIZE","queryAll","offset","getAllPosts","fetch","queryByCategory","category","getPostsByCategory","queryBySlug","getSinglePost","slug","queryAllSLugs","getAllSlugs"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,SAAT,QAA0B,QAA1B;;AAGA,MAAMC,QAAQ,GAAIC,MAAD,IAAoBH,IAAK,sBAAqBG,MAAO,MACpEA,MAAM,GAAGF,SACV;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAXA;;AAaA,OAAO,MAAMG,WAAW,GAAG,MAAOD,MAAP,IAAgD;AACzE,SAAO,MAAMJ,MAAM,CAACM,KAAP,CAAaH,QAAQ,CAACC,MAAD,CAArB,CAAb;AACD,CAFM;;AAIP,MAAMG,eAAe,GAAG,CACtBH,MADsB,EAEtBI,QAFsB,KAGnBP,IAAK,wBAAuBO,QAAS,mBAAkBJ,MAAO,MACjEA,MAAM,GAAGF,SACV;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAbA;;AAeA,OAAO,MAAMO,kBAAkB,GAAG,OAAOL,MAAP,EAAeI,QAAf,KAA4B;AAC5D,SAAO,MAAMR,MAAM,CAACM,KAAP,CAAaC,eAAe,CAACH,MAAD,EAASI,QAAT,CAA5B,CAAb;AACD,CAFM;AAIP,MAAME,WAAW,GAAGT,IAAK;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EATA;AAWA,OAAO,MAAMU,aAAa,GAAG,MAAOC,IAAP,IAAwB;AACnD,SAAO,MAAMZ,MAAM,CAACM,KAAP,CAAaI,WAAb,EAA0B;AAAEE,IAAAA;AAAF,GAA1B,CAAb;AACD,CAFM;AAIP,MAAMC,aAAa,GAAGZ,IAAK,2BAA3B;AAEA,OAAO,MAAMa,WAAW,GAAG,YAAkC;AAC3D,SAAO,MAAMd,MAAM,CAACM,KAAP,CAAaO,aAAb,CAAb;AACD,CAFM","sourcesContent":["import client from \"./client\";\nimport groq from \"groq\";\nimport { PAGE_SIZE } from \"./vars\";\nimport { IAllPosts } from \"../interfaces/IAllPosts\";\n\nconst queryAll = (offset: number) => groq`*[_type == \"post\"][${offset}...${\n  offset + PAGE_SIZE\n}]  | order(publishedAt desc) {\n  _id,\n  title,\n  subtitle,\n  publishedAt,\n  _updatedAt,\n  slug,\n  'mainImage': mainImage.asset->url,\n  \"categories\": categories[]->title,\n}`;\n\nexport const getAllPosts = async (offset: number): Promise<IAllPosts[]> => {\n  return await client.fetch(queryAll(offset));\n};\n\nconst queryByCategory = (\n  offset,\n  category\n) => groq`*[_type == \"post\" && ${category} in categories][${offset}...${\n  offset + PAGE_SIZE\n}]  | order(publishedAt desc) {\n  _id,\n  title,\n  subtitle,\n  publishedAt,\n  _updatedAt,\n  slug,\n  mainImage,\n}`;\n\nexport const getPostsByCategory = async (offset, category) => {\n  return await client.fetch(queryByCategory(offset, category));\n};\n\nconst queryBySlug = groq`*[_type == \"post\" && slug.current == $slug][0]{\n  title,\n  subtitle,\n  publishedAt,\n  _updatedAt,\n  \"name\": author->name,\n  mainImage,\n  \"categories\": categories[]->title,\n  body\n}`;\n\nexport const getSinglePost = async (slug: string) => {\n  return await client.fetch(queryBySlug, { slug });\n};\n\nconst queryAllSLugs = groq`*[_type == \"post\"] {slug}`;\n\nexport const getAllSlugs = async (): Promise<IAllPosts[]> => {\n  return await client.fetch(queryAllSLugs);\n};\n"]},"metadata":{},"sourceType":"module"}
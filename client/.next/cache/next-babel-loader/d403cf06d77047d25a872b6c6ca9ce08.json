{"ast":null,"code":"import client from \"./client\";\nimport groq from \"groq\";\nimport { useRouter } from \"next/router\";\nconst router = useRouter(); // const fields = `\n//   title,\n//   subtitle,\n//   slug: slug.current\n//   `;\n\nexport const getAllPosts = async () => {\n  return await client.fetch(groq`\n      *[_type == \"post\"]|order(publishedAt desc)\n    `);\n};\nconst query = groq`*[_type == \"post\" && slug.current == $slug][0]{\n  title,\n  \"name\": author->name,\n  \"categories\": categories[]->title,\n  mainImage,\n  body\n}`;\nexport const getSinglePost = async () => {\n  const {\n    slug\n  } = router;\n  return await client.fetch(query, {\n    slug\n  });\n};","map":{"version":3,"sources":["C:/Users/Volodymyr_Kartaiev/WebstormProjects/arminian-perspective-blog/client/lib/api.js"],"names":["client","groq","useRouter","router","getAllPosts","fetch","query","getSinglePost","slug"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,MAAMC,MAAM,GAAGD,SAAS,EAAxB,C,CAEA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAME,WAAW,GAAG,YAAY;AACrC,SAAO,MAAMJ,MAAM,CAACK,KAAP,CAAaJ,IAAK;;KAAlB,CAAb;AAGD,CAJM;AAMP,MAAMK,KAAK,GAAGL,IAAK;;;;;;EAAnB;AAQA,OAAO,MAAMM,aAAa,GAAG,YAAY;AACvC,QAAM;AAAEC,IAAAA;AAAF,MAAWL,MAAjB;AACA,SAAO,MAAMH,MAAM,CAACK,KAAP,CAAaC,KAAb,EAAoB;AAAEE,IAAAA;AAAF,GAApB,CAAb;AACD,CAHM","sourcesContent":["import client from \"./client\";\nimport groq from \"groq\";\nimport { useRouter } from \"next/router\";\n\nconst router = useRouter();\n\n// const fields = `\n//   title,\n//   subtitle,\n//   slug: slug.current\n//   `;\n\nexport const getAllPosts = async () => {\n  return await client.fetch(groq`\n      *[_type == \"post\"]|order(publishedAt desc)\n    `);\n};\n\nconst query = groq`*[_type == \"post\" && slug.current == $slug][0]{\n  title,\n  \"name\": author->name,\n  \"categories\": categories[]->title,\n  mainImage,\n  body\n}`;\n\nexport const getSinglePost = async () => {\n  const { slug } = router;\n  return await client.fetch(query, { slug });\n};\n"]},"metadata":{},"sourceType":"module"}